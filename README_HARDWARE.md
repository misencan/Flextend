# Flextend: Hardware Report

Senior Design Project: Knee Flexion and Extension Electrical Device
Boston University Department of Electrical and Computer Engineering
Authors: Sohaib Ansari, Murat Sencan

## Project Description
An electrical device that straps onto a user's leg and measures the knee joint extension and flexion angles. 

## Vendor Information and Bill of materials

### Bill of Materials For One Flextend Device

![Bill of materials](/images/bill.png)

Total cost of materials for one Flextend device is estimated at $71.55

### Vendor Information 

Product and Description | Vendor |  Link |
| --- | ----------- |  --- |
| Arduino Nano 33 IoT | Arduino | [link](https://store-usa.arduino.cc/products/arduino-nano-33-iot1) |
| HiLetgo GY-521 MPU-6050 MPU6050 3 Axis Accelerometer Gyroscope Module| Amazon (HiLetgo) |  [link](https://www.amazon.com/HiLetgo-MPU-6050-Accelerometer-Gyroscope-Converter/dp/B00LP25V1A/ref=sr_1_4?crid=2MNCN5I4XQQ4P&dchild=1&keywords=GY-521%2Bgyroscope&qid=1635451486&qsid=144-3861782-9415729&s=industrial&sprefix=gy-521%2Bgyroscope%2Cindustrial%2C125&sr=1-4&sres=B0943SGP34%2CB00LP25V1A%2CB07W3S7X7W%2CB081YNFZ5S%2CB07P5YZ7ZD%2CB08TH9NH55%2CB0777QVJ4Q%2CB082H2K3C6%2CB08FHXQ58X%2CB07M98PKT4%2CB00NH8Z6BU%2CB06XDBFDM5%2CB07RXQGGJX%2CB07PY38BCB%2CB07PB7NKPP%2CB01J167T84%2CB095WVYY1G%2CB00FIIUA7M%2CB091B246KP%2CB07TWS8G3Z&th=1)  |
|Gikfun Active Buzzer 3V Magnetic Long Continous Beep Tone Alarm Ringer for Arduino (Pack of 10pcs) | Amazon (Gikfun) |  [link](https://www.amazon.com/Gikfun-Active-Magnetic-Continous-Arduino/dp/B01FVZQ6F6/ref=sr_1_1_sspa?crid=360UI9DR3SRC0&dchild=1&keywords=buzzer+for+arduino&qid=1635885723&sprefix=buzzer+for+arduino%2Caps%2C62&sr=8-1-spons&psc=1&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEyWFlXUUlYNFdRTlFNJmVuY3J5cHRlZElkPUEwOTc3OTMyMUNKQlo3QlBKRlZHWiZlbmNyeXB0ZWRBZElkPUEwMTgxMjAzMlcxNlQwVEVBR1AwUSZ3aWRnZXROYW1lPXNwX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU=)  |
|Clear Scratch- and UV-Resistant Cast Acrylic Sheet, 6" x 12" x 1/16" | McMaster-Carr |  [link](https://www.mcmaster.com/8560K178/)  |
|Double Sided PCB Board | Amazon |  [link](https://www.amazon.com/dp/B07TVHQQ7X/ref=sspa_dk_detail_4?psc=1&pd_rd_i=B07TVHQQ7X&pd_rd_w=Xtxfg&pf_rd_p=887084a2-5c34-4113-a4f8-b7947847c308&pd_rd_wg=1xsV9&pf_rd_r=W13RD35V9FCMVCVMTT2Q&pd_rd_r=1ac5634b-6c81-433d-ac57-7618d92cceee&s=hi&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEyNllIQVRUVExYSTA4JmVuY3J5cHRlZElkPUEwOTU1MzE1RklKNUZTUkIxWjhCJmVuY3J5cHRlZEFkSWQ9QTA3OTkzMTIyTlEyUDVaM0QxVEY0JndpZGdldE5hbWU9c3BfZGV0YWlsJmFjdGlvbj1jbGlja1JlZGlyZWN0JmRvTm90TG9nQ2xpY2s9dHJ1ZQ==)  |
|Duracell 9V Battery  | Amazon (Duracell) |  [link](https://www.amazon.com/Duracell-Batteries-9Volt-size-battery/dp/B00009V2QT/ref=sr_1_10?crid=3COVPAK7YGYGX&keywords=duracell+9v+battery&qid=1651268654&sprefix=duracell+9v+battery%2Caps%2C93&sr=8-10)  |
|CableCreation Micro USB to Micro USB Cable, (0.56ft to 4ft) | Amazon (CableCreation) |  [link](https://www.amazon.com/CableCreation-Charging-Compatible-Android-Smartphone/dp/B075GMNY1Y/ref=sr_1_18?crid=3NLQNOQPY0QGI&keywords=cablecreation%2Bmicro%2Busb%2Bto%2Bmicro%2Busb&qid=1651268631&sprefix=cablecreation%2Bmicro%2Busb%2Bto%2Bmicro%2Busb%2Caps%2C71&sr=8-18&th=1)  |
|EDGELEC 120pcs Breadboard Jumper Wires | Amazon (Edgelec) |  [link](https://www.amazon.com/EDGELEC-Breadboard-Optional-Assorted-Multicolored/dp/B07GD2BWPY/ref=sr_1_3?crid=24KUD97JSCR96&keywords=jumper%2Bcable%2Bkit%2Bbreadboard&qid=1651266874&sprefix=jumper%2Bcable%2Bkit%2Bbreadboar%2Caps%2C90&sr=8-3&th=1)  |
|2 Pack Sports Knee Wraps, Extra Long Elastic Knee Brace | Amazon |  [link](https://www.amazon.com/Compression-Training-Weightlifting-Powerlifting-All-Purpose/dp/B088K6RPB5/ref=sr_1_7?crid=2Y2JYGEX9GEDE&keywords=velcro+knee&qid=1651266953&sprefix=velcro+knee%2Caps%2C78&sr=8-7)  |
| Gorilla Super Glue Gel XL, 25 Gram, Clear | Amazon (Gorilla) |  [link](https://www.amazon.com/Gorilla-Super-Glue-gram-Clear/dp/B082XGL21J/ref=sr_1_3?crid=3PV1BMOHCKT63&keywords=gorilla+glue&qid=1651268602&sprefix=gorilla+glue%2Caps%2C84&sr=8-3)  |
| LAMPVPATH 9 Volt Battery Holder with Switch | Amazon (LampVPath) |  [link](https://www.amazon.com/LAMPVPATH-Pack-Battery-Holder-Switch/dp/B07BXBS93X/ref=sr_1_1_sspa?keywords=9v+battery+case+switch&qid=1651268304&sr=8-1-spons&psc=1&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEyUEhLTUFXMkpJREozJmVuY3J5cHRlZElkPUEwNTM4OTYzMlFUWDlRN0lYUjdISSZlbmNyeXB0ZWRBZElkPUEwMDQ1NDU3M0kySUo3WlpTSVMxSiZ3aWRnZXROYW1lPXNwX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU=)  |


## Power Requirements

The HiLetgo GY-521 MPU-6050 gyroscopes require an optimal of 3.3V to function. Minimum voltage to function is 2.375V and maximum supply is 3.46V. Since the Arduino Nano has a builtin +3.3V power supply, we are able to connect both gyroscopes to this output. Operating current of MPU6050 gyroscopes are 3.9mA if all specifications are used at the same time. However, Flextend device only requires the accelerometer data which has a normal operating current of 500ÂµA. Gyroscopes are also able to function in any temperature range of -40 to +85 Celcius. The buzzer in the circuit requires an input voltage of 2-3.5V and has an operating current less than 25mA. The buzzer has a frequency of 2300 +/-500Hz.

Arduino Nano 33 can has an operating voltage of 3.3V and maximum of 21V power input. In our case we are using 9V with impedance of 3,050 m-ohm@1kHz. Given the specifications of the Arduino and its power consumption, it is estimated that 9V battery will support the device about 20 to 30 hours. Since on time use of the device is less than 5 minutes on average, it is safe to estimate that device can be used for a minimum of 300 runs before it requires a battery change. 

## Significant Data Sheets and Sources 
- [MPU6050 Datasheet](http://www.haoyuelectronics.com/Attachment/GY-521/mpu6050.pdf)
- [Connecting Multiple Gyroscopes](https://forum.arduino.cc/t/how-to-connect-two-mpu6050/116477)
- [Angle Calculation Code](https://how2electronics.com/measure-tilt-angle-mpu6050-arduino/)
- [Arduino Nano 33 IoT Datasheet](https://docs.arduino.cc/resources/datasheets/ABX00027-datasheet.pdf)

## System Schematic 

![schematic](/images/schematic.png)

## Enclosure Pictures 

![enclosure 1](/images/enclosure1.png)

![enclosure 2](/images/enclosure2.png)

## Status of the Project and Design Development 

Feb 27, 2022
![feb27](/images/feb27.jpg)

March 15, 2022
![march15](/images/mar15.jpg)

April 14, 2022
![apr14](/images/apr14-1.jpg)

![apr14](/images/apr14-2.jpg)

![apr14](/images/apr14-3.jpg)

April 19, 2022
![apr19](/images/apr19.jpg)